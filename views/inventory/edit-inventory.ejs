<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/login.css" />
  </head>

  <body>
    <div class="login-content">
      <h1><%= title %></h1>

      <% if (Array.isArray(messages) && messages.length > 0) { %>
      <div class="flash-messages">
        <% messages.forEach(function(msg) { %>
        <p><%= msg %></p>
        <% }) %>
      </div>
      <% } %> <% if (errors) { %>
      <ul class="notice">
        <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
        <% }) %>
      </ul>
      <% } %>

      <form id="updateForm" action="/inv/update" method="post">
        <label for="classificationList">Classification</label>
        <%- classificationSelect %>

        <label for="inv_make">Make</label>
        <input
          type="text"
          id="inv_make"
          name="inv_make"
          required
          placeholder="Min of 3 characters"
          value="<%= sticky?.inv_make || '' %>"
        />

        <label for="inv_model">Model</label>
        <input
          type="text"
          id="inv_model"
          name="inv_model"
          required
          placeholder="Min of 3 characters"
          value="<%= sticky?.inv_model || '' %>"
        />

        <label for="inv_description">Description</label>
        <textarea id="inv_description" name="inv_description" required>
<%= sticky?.inv_description || '' %></textarea
        >

        <label for="inv_image">Image Path</label>
        <input
          type="text"
          id="inv_image"
          name="inv_image"
          required
          value="<%= sticky?.inv_image && sticky.inv_image.length > 0 ? sticky.inv_image : '/images/vehicles/no-image.png' %>"
        />

        <label for="inv_thumbnail">Thumbnail Path</label>
        <input
          type="text"
          id="inv_thumbnail"
          name="inv_thumbnail"
          required
          value="<%= sticky?.inv_thumbnail && sticky.inv_thumbnail.length > 0 ? sticky.inv_thumbnail : '/images/vehicles/no-image-tn.png' %>"
        />

        <label for="inv_price">Price</label>
        <input
          type="number"
          id="inv_price"
          name="inv_price"
          step="0.01"
          required
          placeholder="Decimal or integer"
          value="<%= sticky?.inv_price || '' %>"
        />

        <label for="inv_year">Year</label>
        <input
          type="number"
          id="inv_year"
          name="inv_year"
          required
          placeholder="4-digit year"
          value="<%= sticky?.inv_year || '' %>"
        />

        <label for="inv_miles">Miles</label>
        <input
          type="number"
          id="inv_miles"
          name="inv_miles"
          required
          placeholder="Digits only"
          value="<%= sticky?.inv_miles || '' %>"
        />

        <label for="inv_color">Color</label>
        <input
          type="text"
          id="inv_color"
          name="inv_color"
          required
          value="<%= sticky?.inv_color || '' %>"
        />

        <button type="submit" disabled>Update Vehicle</button>
        <input
          type="hidden"
          name="inv_id"
          value="<%= sticky?.inv_id || inv_id %>"
        />
      </form>
      <script src="/js/inv-update.js"></script>
    </div>
  </body>
</html>
